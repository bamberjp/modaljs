/*! ModalJS | Copyright (c) 2020 Johnathan Bamber */
var Modal=function(){var n=null,a=null,c=null,l=null,o={CSS:{classes:{active:"modal-show",disable:"modal-hide",close:"modal-close"}}};function t(e){switch(e.keyCode){case 9:e.shiftKey?document.activeElement==c&&(e.preventDefault(),l.focus()):document.activeElement==l&&(e.preventDefault(),c.focus());break;case 27:s()}}function s(){d(n,o.CSS.classes.active),i(n,o.CSS.classes.disable),a.focus()}function i(e,t){-1==e.className.split(" ").indexOf(t)&&(e.className+=" "+t)}function d(e,t){var n=new RegExp("s?"+t+"s?","g");e.className=e.className.replace(n,"").trim()}return{init:function(e){return n=document.getElementById(e),Array.from(n.getElementsByClassName(o.CSS.classes.close)).forEach(function(e){e.addEventListener("click",function(e){s()})}),n.addEventListener("keydown",t),n.addEventListener("click",function(e){e.target==n&&s()}),this},open:function(){a=document.activeElement;var e=Array.from(n.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'));c=e[0],l=e[e.length-1],i(n,o.CSS.classes.active),d(n,o.CSS.classes.disable);var t=window.setInterval(function(){c.focus(),c==document.activeElement&&clearInterval(t)},20)},close:s}}();document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('[data-toggle="modal"]').forEach(function(e){(target=e.getAttribute("data-target"))&&e.addEventListener("click",function(e){Modal.init(target).open()})}),document.querySelectorAll('.modal[data-auto="true"]').forEach(function(e){window.setTimeout(function(){Modal.init(e.getAttribute("id")).open()},20)})});